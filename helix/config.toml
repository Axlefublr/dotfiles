theme = 'gruvbox_material'

[editor]
scrolloff = 99
shell = ['fish', '-c']
line-number = 'relative'
auto-completion = true
auto-format = true
# idle-timeout = 250
completion-timeout = 5
preview-completion-insert = true
completion-trigger-len = 2
auto-info = true
# bufferline = 'multiple'
color-modes = true
text-width = 100
default-line-ending = 'lf'
insert-final-newline = false
jump-label-alphabet = 'fjdkslaeiwoghruxcz/vmtyqp'

[editor.soft-wrap]
enable = true
max-wrap = 0
wrap-indicator = ''

[editor.smart-tab]
enable = true         # If set to true, then when the cursor is in a position with non-whitespace to its left, instead of inserting a tab, it will run move_parent_node_end. If there is only whitespace to the left, then it inserts a tab as normal. With the default bindings, to explicitly insert a tab character, press Shift-tab.
supersede-menu = true # Normally, when a menu is on screen, such as when auto complete is triggered, the tab key is bound to cycling through the items. This means when menus are on screen, one cannot use the tab key to trigger the smart-tab command. If this option is set to true, the smart-tab command always takes precedence, which means one cannot use the tab key to cycle through menu items. One of the other bindings must be used instead, such as arrow keys or C-n/C-p.

[editor.cursor-shape]
insert = 'bar'
# select = 'underline'

[editor.whitespace.render]
newline = 'all'

[editor.whitespace.characters]
newline = 'â†ª'

[editor.auto-pairs]
'<' = '>'
'(' = ')'
'{' = '}'
'[' = ']'
'"' = '"'
"'" = "'"
'`' = '`'

[editor.auto-save]
focus-lost = true

[editor.statusline]
separator = ''
mode.normal = 'normal'
mode.insert = 'insert'
mode.select = 'select'
left = [
  # 'version-control',
  # 'spacer',
  'diagnostics',
  'primary-selection-length',
  'selections',
]
center = ['file-name', 'read-only-indicator', 'file-modification-indicator']
right = [
  'spinner',
  'register',
  'position',
  'position-percentage',
  'file-encoding',
]

[editor.gutters]
# layout = ['diff', 'spacer']
layout = []

[editor.gutters.line-numbers]
min-width = 2

[editor.lsp]
auto-signature-help = true
display-inlay-hints = true
display-signature-help-docs = true
goto-reference-include-declaration = false

# #################################################mappings#################################################

# --------------------------------------------------normal--------------------------------------------------

[keys.normal]
H = 'page_cursor_half_up'
L = 'page_cursor_half_down'
ret = 'command_mode'
',' = 'flip_selections'
':' = 'ensure_selections_forward'
X = 'keep_primary_selection'
V = 'extend_line_above'
v = 'extend_line_below'
x = 'select_mode'
A-m = 'merge_selections'
A-M = 'merge_consecutive_selections'
D = 'copy_selection_on_prev_line'
G = 'keep_selections'
K = ':xa!'
A-f = 'move_parent_node_end'
"'" = ':wa!'
M = 'save_selection'
A-h = 'select_prev_sibling'
A-l = 'select_next_sibling'
C-n = 'shrink_selection'
C-p = 'expand_selection'
A-j = 'shrink_selection'
A-k = 'expand_selection'
'\' = ['select_all', 'delete_selection_noyank', 'shell_append_output']
'{' = 'goto_prev_paragraph'
'}' = 'goto_next_paragraph'
'#' = 'toggle_comments'

C-s = 'no_op'
C-c = 'no_op'
A-C = 'no_op'
left = 'no_op'
right = 'no_op'
up = 'no_op'
down = 'no_op'

[keys.normal.space]
p = ':config-reload'
P = ':open ~/prog/dotfiles/helix/config.toml'
T = ':tree-sitter-scopes'
t = ':tree-sitter-highlight-name'
f = 'file_picker_in_current_directory'
F = 'file_picker_in_current_buffer_directory'
e = 'buffer_picker'
K = ':qa!'
n = ':new'

b = 'no_op'
c = 'no_op'
A-c = 'no_op'
'/' = 'no_op'

[keys.normal.z]
g = 'select_all_children'
h = 'extend_to_first_nonwhitespace'
H = 'extend_to_line_start'
l = 'extend_to_line_end'
L = 'extend_to_line_end_newline'
'/' = 'make_search_word_bounded'

z = 'no_op'
c = 'no_op'
t = 'no_op'
b = 'no_op'
m = 'no_op'
up = 'no_op'
down = 'no_op'
j = 'no_op'
k = 'no_op'
pageup = 'no_op'
pagedown = 'no_op'
C-b = 'no_op'
C-f = 'no_op'
C-u = 'no_op'
C-d = 'no_op'
backspace = 'no_op'
space = 'no_op'
'?' = 'no_op'
n = 'no_op'
N = 'no_op'

[keys.normal.Z]
z = 'no_op'
c = 'no_op'
t = 'no_op'
b = 'no_op'
m = 'no_op'
up = 'no_op'
down = 'no_op'
j = 'no_op'
k = 'no_op'
pageup = 'no_op'
pagedown = 'no_op'
C-b = 'no_op'
C-f = 'no_op'
C-u = 'no_op'
C-d = 'no_op'
backspace = 'no_op'
space = 'no_op'
'/' = 'no_op'
'?' = 'no_op'
n = 'no_op'
N = 'no_op'

[keys.normal.g]
h = 'goto_first_nonwhitespace'
H = 'goto_line_start'
l = 'goto_line_end'
L = 'goto_line_end_newline'

m = 'goto_last_accessed_file'
M = 'goto_last_modified_file'

o = 'goto_last_line'
i = 'goto_file_start'

u = 'goto_word'
J = 'join_selections_space'
G = 'remove_selections'
g = 'select_all_siblings'
'/' = 'global_search'
';' = ':char'

s = 'no_op'
a = 'no_op'
e = 'no_op'
w = 'no_op'

# --------------------------------------------------select--------------------------------------------------

[keys.select]
H = 'page_cursor_half_up'
L = 'page_cursor_half_down'
',' = 'flip_selections'
':' = 'ensure_selections_forward'
X = 'keep_primary_selection'
V = 'extend_line_above'
v = 'extend_line_below'
x = 'normal_mode'
A-m = 'merge_selections'
A-M = 'merge_consecutive_selections'
D = 'copy_selection_on_prev_line'
G = 'keep_selections'
A-h = 'select_prev_sibling'
A-l = 'select_next_sibling'
C-n = 'shrink_selection'
C-p = 'expand_selection'
'{' = 'goto_prev_paragraph'
'}' = 'goto_next_paragraph'

[keys.select.g]
o = 'goto_last_line'
i = 'goto_file_start'
J = 'join_selections_space'
G = 'remove_selections'
u = 'extend_to_word'
L = 'goto_line_end_newline'

g = 'no_op'
w = 'no_op'
e = 'no_op'

# --------------------------------------------------insert--------------------------------------------------

[keys.insert]
"A-'" = 'insert_register'
'C-v' = 'paste_clipboard_before'
'A-/' = ':xa!'
'C-j' = ['normal_mode', 'open_below']
'C-k' = ['normal_mode', 'open_above']
'A-,' = 'unindent'
'A-.' = 'indent'
