virtual_modifiers:
  - CapsLock
default_mode: default
modmap:
  - remap:
      Tab: Esc
      Esc: F13
      Compose: Super_R # For me, Compose is the Menu key

  - name: Game side mouse buttons fix
    remap:
      Btn_Side: k
      Btn_Extra: j
    application:
      only: /Terraria/

keymap:

  - name: Mouse mode gromit overlay
    mode: overlay
    remap:
      Space: [ launch: [gromit-mpx, --clear], set_mode: mouse ]

  - name: Mouse mode
    mode: [mouse, overlay]
    remap:
      CapsLock-Semicolon: { set_mode: default }
      Space: [
        launch: [gromit-overlay.fish],
        set_mode: overlay
      ]

      q: { launch: [xdotool, mousemove, '128',  '120']}
      w: { launch: [xdotool, mousemove, '544',  '120']}
      e: { launch: [xdotool, mousemove, '960',  '120']}
      r: { launch: [xdotool, mousemove, '1376', '120']}
      t: { launch: [xdotool, mousemove, '1792', '120']}

      a: { launch: [xdotool, mousemove, '128',  '540']}
      s: { launch: [xdotool, mousemove, '544',  '540']}
      d: { launch: [xdotool, mousemove, '960',  '540']}
      f: { launch: [xdotool, mousemove, '1376', '540']}
      g: { launch: [xdotool, mousemove, '1792', '540']}

      z: { launch: [xdotool, mousemove, '128',  '960']}
      x: { launch: [xdotool, mousemove, '544',  '960']}
      c: { launch: [xdotool, mousemove, '960',  '960']}
      v: { launch: [xdotool, mousemove, '1376', '960']}
      b: { launch: [xdotool, mousemove, '1792', '960']}

      Shift-q: { launch: [xdotool, mousemove, '336',  '120']}
      Shift-w: { launch: [xdotool, mousemove, '752',  '120']}
      Shift-e: { launch: [xdotool, mousemove, '1168', '120']}
      Shift-r: { launch: [xdotool, mousemove, '1584', '120']}

      Shift-a: { launch: [xdotool, mousemove, '336',  '540']}
      Shift-s: { launch: [xdotool, mousemove, '752',  '540']}
      Shift-d: { launch: [xdotool, mousemove, '1168', '540']}
      Shift-f: { launch: [xdotool, mousemove, '1584', '540']}

      Shift-z: { launch: [xdotool, mousemove, '336',  '960']}
      Shift-x: { launch: [xdotool, mousemove, '752',  '960']}
      Shift-c: { launch: [xdotool, mousemove, '1168', '960']}
      Shift-v: { launch: [xdotool, mousemove, '1584', '960']}

      Ctrl-q: { launch: [xdotool, mousemove, '128',  '330']}
      Ctrl-w: { launch: [xdotool, mousemove, '544',  '330']}
      Ctrl-e: { launch: [xdotool, mousemove, '960',  '330']}
      Ctrl-r: { launch: [xdotool, mousemove, '1376', '330']}
      Ctrl-t: { launch: [xdotool, mousemove, '1792', '330']}

      Ctrl-a: { launch: [xdotool, mousemove, '128',  '750']}
      Ctrl-s: { launch: [xdotool, mousemove, '544',  '750']}
      Ctrl-d: { launch: [xdotool, mousemove, '960',  '750']}
      Ctrl-f: { launch: [xdotool, mousemove, '1376', '750']}
      Ctrl-g: { launch: [xdotool, mousemove, '1792', '750']}

      Shift-Ctrl-q: { launch: [xdotool, mousemove, '336',  '330']}
      Shift-Ctrl-w: { launch: [xdotool, mousemove, '752',  '330']}
      Shift-Ctrl-e: { launch: [xdotool, mousemove, '1168', '330']}
      Shift-Ctrl-r: { launch: [xdotool, mousemove, '1584', '330']}

      Shift-Ctrl-a: { launch: [xdotool, mousemove, '336',  '750']}
      Shift-Ctrl-s: { launch: [xdotool, mousemove, '752',  '750']}
      Shift-Ctrl-d: { launch: [xdotool, mousemove, '1168', '750']}
      Shift-Ctrl-f: { launch: [xdotool, mousemove, '1584', '750']}

      h: { launch: [ydotool, mousemove, '--', '-26', '0']}
      l: { launch: [ydotool, mousemove, '--', '26', '0']}
      j: { launch: [ydotool, mousemove, '--', '0', '26']}
      k: { launch: [ydotool, mousemove, '--', '0', '-26']}

      Shift-h: { launch: [ydotool, mousemove, '--', '-52', '0']}
      Shift-l: { launch: [ydotool, mousemove, '--', '52', '0']}
      Shift-j: { launch: [ydotool, mousemove, '--', '0', '52']}
      Shift-k: { launch: [ydotool, mousemove, '--', '0', '-52']}

      Alt-h: { launch: [ydotool, mousemove, '--', '-13', '0']}
      Alt-l: { launch: [ydotool, mousemove, '--', '13', '0']}
      Alt-j: { launch: [ydotool, mousemove, '--', '0', '13']}
      Alt-k: { launch: [ydotool, mousemove, '--', '0', '-13']}

      Ctrl-h: { launch: [ydotool, mousemove, '--', '-6.5', '0']}
      Ctrl-l: { launch: [ydotool, mousemove, '--', '6.5', '0']}
      Ctrl-j: { launch: [ydotool, mousemove, '--', '0', '6.5']}
      Ctrl-k: { launch: [ydotool, mousemove, '--', '0', '-6.5']}

      u: { launch: ["ydotool", "click", "c0"] } # c0 — left click
      i: { launch: ["ydotool", "click", "c2"] } # c2 — middle click
      o: { launch: ["ydotool", "click", "c1"] } # c1 — right click

      # CapsLock-u: { launch: ["xdotool", "mousedown", "1"] }
      # CapsLock-i: { launch: ["xdotool", "mousedown", "2"] }
      # CapsLock-o: { launch: ["xdotool", "mousedown", "3"] }
      # CapsLock-7: { launch: ["xdotool", "mouseup", "1"] }
      # CapsLock-8: { launch: ["xdotool", "mouseup", "2"] }
      # CapsLock-9: { launch: ["xdotool", "mouseup", "3"] }

      CapsLock-u: { launch: ["ydotool", "click", "40"] }
      CapsLock-i: { launch: ["ydotool", "click", "42"] }
      CapsLock-o: { launch: ["ydotool", "click", "41"] }
      CapsLock-7: { launch: ["ydotool", "click", "80"] }
      CapsLock-8: { launch: ["ydotool", "click", "82"] }
      CapsLock-9: { launch: ["ydotool", "click", "81"] }

      # Holds down and up a modifier (the one aside from capslock):
      # j — down event
      # k — up event
      CapsLock-Super-j: { launch: [ydotool, key, '125:1'] }
      CapsLock-Super-k: { launch: [ydotool, key, '125:0'] }
      CapsLock-Shift-j: { launch: [ydotool, key, '42:1'] }
      CapsLock-Shift-k: { launch: [ydotool, key, '42:0'] }
      CapsLock-Alt-j:   { launch: [ydotool, key, '56:1'] }
      CapsLock-Alt-k:   { launch: [ydotool, key, '56:0'] }
      CapsLock-Ctrl-j:  { launch: [ydotool, key, '29:1'] }
      CapsLock-Ctrl-k:  { launch: [ydotool, key, '29:0'] }

      m: { launch: ["ydotool", "mousemove", "-w", "--", "-1", "0"] } # left
      Comma: { launch: ["ydotool", "mousemove", "-w", "--", "0", "1"] } # up
      Dot: { launch: ["ydotool", "mousemove", "-w", "--", "0", "-1"] } # down
      Slash: { launch: ["ydotool", "mousemove", "-w", "--", "1", "0"] } # up

      Key_1: { launch: [ fish, -c, "minigun_apply 1" ] }
      Key_2: { launch: [ fish, -c, "minigun_apply 2" ] }
      Key_3: { launch: [ fish, -c, "minigun_apply 3" ] }
      Key_4: { launch: [ fish, -c, "minigun_apply 4" ] }
      Key_5: { launch: [ fish, -c, "minigun_apply 5" ] }
      Key_6: { launch: [ fish, -c, "minigun_apply 6" ] }
      Key_7: { launch: [ fish, -c, "minigun_apply 7" ] }
      Key_8: { launch: [ fish, -c, "minigun_apply 8" ] }
      Key_9: { launch: [ fish, -c, "minigun_apply 9" ] }
      Key_0: { launch: [ fish, -c, "minigun_apply 0" ] }

      Semicolon:
        remap:
          q: { launch: [ fish, -c, "minigun_save q" ] }
          w: { launch: [ fish, -c, "minigun_save w" ] }
          e: { launch: [ fish, -c, "minigun_save e" ] }
          r: { launch: [ fish, -c, "minigun_save r" ] }
          t: { launch: [ fish, -c, "minigun_save t" ] }
          'y': { launch: [ fish, -c, "minigun_save y" ] }
          u: { launch: [ fish, -c, "minigun_save u" ] }
          i: { launch: [ fish, -c, "minigun_save i" ] }
          o: { launch: [ fish, -c, "minigun_save o" ] }
          p: { launch: [ fish, -c, "minigun_save p" ] }
          a: { launch: [ fish, -c, "minigun_save a" ] }
          s: { launch: [ fish, -c, "minigun_save s" ] }
          d: { launch: [ fish, -c, "minigun_save d" ] }
          f: { launch: [ fish, -c, "minigun_save f" ] }
          g: { launch: [ fish, -c, "minigun_save g" ] }
          h: { launch: [ fish, -c, "minigun_save h" ] }
          j: { launch: [ fish, -c, "minigun_save j" ] }
          k: { launch: [ fish, -c, "minigun_save k" ] }
          l: { launch: [ fish, -c, "minigun_save l" ] }
          z: { launch: [ fish, -c, "minigun_save z" ] }
          x: { launch: [ fish, -c, "minigun_save x" ] }
          c: { launch: [ fish, -c, "minigun_save c" ] }
          v: { launch: [ fish, -c, "minigun_save v" ] }
          b: { launch: [ fish, -c, "minigun_save b" ] }
          'n': { launch: [ fish, -c, "minigun_save n" ] }
          m: { launch: [ fish, -c, "minigun_save m" ] }
          Key_1: { launch: [ fish, -c, "minigun_save 1" ] }
          Key_2: { launch: [ fish, -c, "minigun_save 2" ] }
          Key_3: { launch: [ fish, -c, "minigun_save 3" ] }
          Key_4: { launch: [ fish, -c, "minigun_save 4" ] }
          Key_5: { launch: [ fish, -c, "minigun_save 5" ] }
          Key_6: { launch: [ fish, -c, "minigun_save 6" ] }
          Key_7: { launch: [ fish, -c, "minigun_save 7" ] }
          Key_8: { launch: [ fish, -c, "minigun_save 8" ] }
          Key_9: { launch: [ fish, -c, "minigun_save 9" ] }
          Key_0: { launch: [ fish, -c, "minigun_save 0" ] }
      Apostrophe:
        remap:
          q: { launch: [ fish, -c, "minigun_apply q" ] }
          w: { launch: [ fish, -c, "minigun_apply w" ] }
          e: { launch: [ fish, -c, "minigun_apply e" ] }
          r: { launch: [ fish, -c, "minigun_apply r" ] }
          t: { launch: [ fish, -c, "minigun_apply t" ] }
          'y': { launch: [ fish, -c, "minigun_apply y" ] }
          u: { launch: [ fish, -c, "minigun_apply u" ] }
          i: { launch: [ fish, -c, "minigun_apply i" ] }
          o: { launch: [ fish, -c, "minigun_apply o" ] }
          p: { launch: [ fish, -c, "minigun_apply p" ] }
          a: { launch: [ fish, -c, "minigun_apply a" ] }
          s: { launch: [ fish, -c, "minigun_apply s" ] }
          d: { launch: [ fish, -c, "minigun_apply d" ] }
          f: { launch: [ fish, -c, "minigun_apply f" ] }
          g: { launch: [ fish, -c, "minigun_apply g" ] }
          h: { launch: [ fish, -c, "minigun_apply h" ] }
          j: { launch: [ fish, -c, "minigun_apply j" ] }
          k: { launch: [ fish, -c, "minigun_apply k" ] }
          l: { launch: [ fish, -c, "minigun_apply l" ] }
          z: { launch: [ fish, -c, "minigun_apply z" ] }
          x: { launch: [ fish, -c, "minigun_apply x" ] }
          c: { launch: [ fish, -c, "minigun_apply c" ] }
          v: { launch: [ fish, -c, "minigun_apply v" ] }
          b: { launch: [ fish, -c, "minigun_apply b" ] }
          'n': { launch: [ fish, -c, "minigun_apply n" ] }
          m: { launch: [ fish, -c, "minigun_apply m" ] }
          Key_1: { launch: [ fish, -c, "minigun_apply 1" ] }
          Key_2: { launch: [ fish, -c, "minigun_apply 2" ] }
          Key_3: { launch: [ fish, -c, "minigun_apply 3" ] }
          Key_4: { launch: [ fish, -c, "minigun_apply 4" ] }
          Key_5: { launch: [ fish, -c, "minigun_apply 5" ] }
          Key_6: { launch: [ fish, -c, "minigun_apply 6" ] }
          Key_7: { launch: [ fish, -c, "minigun_apply 7" ] }
          Key_8: { launch: [ fish, -c, "minigun_apply 8" ] }
          Key_9: { launch: [ fish, -c, "minigun_apply 9" ] }
          Key_0: { launch: [ fish, -c, "minigun_apply 0" ] }

  - name: Default mode
    mode: default
    remap:
      CapsLock-Semicolon: { set_mode: mouse }

  - name: Global chord hotkeys
    remap:
      CapsLock-Apostrophe:
        remap:
          e: { launch: [sh, -c, "loago do eat ; notify-send -t 2000 'ate!'"]}
          r: { launch: [fish, -c, xrestartwaaa]}
          shift-r: { launch: [sh, -c, "awesome-client 'awesome.restart()'"]}
          u: { launch: [sh, -c, "uclanr -j '-' 3 | xclip -r -selection clipboard"] }
          i: { launch: [sh, -c, "kitty --detach --hold -T infoterm holup"] }
          k: { launch: [screenkey] }
          Shift-k: { launch: [killall, screenkey] }
          l: { launch: [fish, -c, wm_toggle_float]}
          t: { launch: [fish, -c, wm_toggle_on_top]}
          m: { launch: [fish, -c, wm_toggle_maximized]}
          f: { launch: [fish, -c, wm_toggle_fullscreen]}
          Shift-l: { launch: [fish, -c, "wm_logout"]}
          Shift-p: { launch: [poweroff] }
          Shift-b: { launch: [reboot] }
          Shift-u: { launch: [kitty, -T, uboot, fish, -c, uboot] }
          Shift-s: { launch: [systemctl, suspend] }
          Shift-c: { launch: [xset, dpms, force, 'off'] }

  - name: Clipboard Manager
    remap:
      CapsLock-Alt-Comma:
        remap:
          q: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/q" ] }
          w: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/w" ] }
          e: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/e" ] }
          r: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/r" ] }
          t: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/t" ] }
          'y': { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/y" ] }
          u: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/u" ] }
          i: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/i" ] }
          o: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/o" ] }
          p: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/p" ] }
          a: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/a" ] }
          s: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/s" ] }
          d: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/d" ] }
          f: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/f" ] }
          g: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/g" ] }
          h: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/h" ] }
          j: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/j" ] }
          k: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/k" ] }
          l: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/l" ] }
          z: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/z" ] }
          x: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/x" ] }
          c: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/c" ] }
          v: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/v" ] }
          b: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/b" ] }
          'n': { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/n" ] }
          m: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/m" ] }
          Key_1: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/1" ] }
          Key_2: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/2" ] }
          Key_3: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/3" ] }
          Key_4: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/4" ] }
          Key_5: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/5" ] }
          Key_6: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/6" ] }
          Key_7: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/7" ] }
          Key_8: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/8" ] }
          Key_9: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/9" ] }
          Key_0: { launch: [ sh, -c, "xclip -selection clipboard -o > ~/.local/share/magazine/0" ] }
      CapsLock-Comma:
        remap:
          q: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/q" ] }
          w: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/w" ] }
          e: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/e" ] }
          r: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/r" ] }
          t: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/t" ] }
          'y': { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/y" ] }
          u: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/u" ] }
          i: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/i" ] }
          o: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/o" ] }
          p: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/p" ] }
          a: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/a" ] }
          s: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/s" ] }
          d: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/d" ] }
          f: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/f" ] }
          g: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/g" ] }
          h: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/h" ] }
          j: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/j" ] }
          k: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/k" ] }
          l: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/l" ] }
          z: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/z" ] }
          x: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/x" ] }
          c: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/c" ] }
          v: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/v" ] }
          b: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/b" ] }
          'n': { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/n" ] }
          m: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/m" ] }
          Key_1: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/1" ] }
          Key_2: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/2" ] }
          Key_3: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/3" ] }
          Key_4: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/4" ] }
          Key_5: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/5" ] }
          Key_6: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/6" ] }
          Key_7: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/7" ] }
          Key_8: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/8" ] }
          Key_9: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/9" ] }
          Key_0: { launch: [ sh, -c, "xclip -selection clipboard ~/.local/share/magazine/0" ] }

  - name: 'Anki'
    exact_match: true
    application:
      only: Anki
    remap:
      Alt-c: [ tab, tab, tab, tab, tab, enter ]
      Shift-Alt-c: [ shift-tab, shift-tab, shift-tab, shift-tab, shift-tab ]
      # Alt-d: [ ctrl-d, { launch: [
      #     fish, -c, "winwaitname '(Choose|Change) Deck' 0 0 100 ; wm-float"
      #   ] }]
      # Alt-n: [ ctrl-n, { launch: [
      #     fish, -c, "winwaitname 'Choose Note Type' 0 0 100 ; wm-float"
      #   ] } ]
      # Alt-Slash: [ slash, { launch: [
      #     fish, -c, "winwaitname 'Study Deck' 0 0 100 ; wm-float"
      #   ] } ]
      # Alt-o: [ ctrl-shift-n, { launch: [
      #     fish, -c, "winwaitname 'Note Types' 0 0 100 ; wm-float"
      #   ] } ]

  - name: Spotify
    exact_match: true
    application:
      only: Spotify
    remap:
      Alt-j: { launch: [sh, -c, "xdotool mousemove 58 1025 ; ydotool click c1"] }

  - name: Kitty
    exact_match: true
    application:
      only: kitty
    remap:
      Ctrl-Backspace: ctrl-w

  - name: Compose key
    remap:
      CapsLock-n: ScrollLock

  - name: Toggle capslock
    remap:
      CapsLock-Space: [CapsLock, { launch: [fish, -c, widget_update_layout] }]

  - name: Switch layout
    remap:
      Super-Space: { launch: [fish, -c, "toggle_layout ; widget_update_layout"] }

  - name: Toggle compositor
    remap:
      Super-x: { launch: [fish, -c, toggle_compositor] }

  - name: Close / kill focused process
    remap:
      CapsLock-q: { launch: [wmctrl, -c, ':ACTIVE:'] }
      CapsLock-Shift-q: { launch: [xdotool, getwindowfocus, windowkill] }

  - name: Gromit
    exact_match: true
    remap:
      Super-f: { launch: [gromit-mpx, --toggle] }
      Super-Alt-f: { launch: [gromit-mpx, --clear] }
      Super-Shift-f: { launch: [gromit-mpx, --visibility] }
      CapsLock-v: { launch: [gromit-mpx, --undo] }
      CapsLock-c: { launch: [gromit-mpx, --redo] }

  - name: Zoom
    exact_match: true
    remap:
      Super-v: { launch: [fish, -c, 'toggle_xzoom'] }

  - name: Edit clipboard
    remap:
      CapsLock-Dot:
        {
          launch:
            [
              sh,
              -c,
              "xclip -selection clipboard -o > /tmp/bibren ; kitty -T edit-clipboard nvim -n /tmp/bibren ; test -s /tmp/bibren && cat /tmp/bibren | xclip -r -selection clipboard",
            ],
        }
      CapsLock-Alt-Dot:
        {
          launch:
            [
              sh,
              -c,
              "truncate -s 0 /tmp/bibren ; kitty -T edit-clipboard nvim -n /tmp/bibren ; test -s /tmp/bibren && cat /tmp/bibren | xclip -r -selection clipboard",
            ],
        }

  - name: Pick unicode
    remap:
      CapsLock-m: { launch: [ fish, -c, 'emoji_picker_clipboard code' ] }
      CapsLock-Alt-m: { launch: [ fish, -c, 'emoji_picker_clipboard name' ] }

  - name: Float image in clipboard
    exact_match: true
    remap:
      Super-w:
        {
          launch:
            [
              fish,
              -c,
              "xclip -selection clipboard -t image/png -o 2>/dev/null | display",
            ],
        }

  - name: Kitty
    remap:
      CapsLock-Slash: { launch: [kitty, -d, '~'] }
      CapsLock-Alt-Slash: { launch: [kitty, -d, '~', -T, temporary-terminal, -o, 'background=#1a1919'] }

  - name: Layouts
    remap:
      Super-Apostrophe:
        remap:
          h: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.tile.left)'] }
          j: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.tile.bottom)'] }
          k: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.tile.top)'] }
          l: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.tile)'] }

          u: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.corner.nw)'] }
          i: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.corner.ne)'] }
          o: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.corner.se)'] }
          p: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.corner.sw)'] }

          m: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.max)'] }
          Comma: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.fair)'] }
          Dot: { launch: [awesome-client, 'awful.layout.set(awful.layout.suit.fair.horizontal)'] }

  - name: System & Media
    remap:
      CapsLock-Alt-s: { launch: [fish, -c, 'set_volume -5% ; widget_update_volume'] }
      CapsLock-Alt-d: { launch: [fish, -c, 'set_volume +5% ; widget_update_volume'] }

      CapsLock-Shift-s: { launch: [qdbus, org.kde.kglobalaccel, /component/mediacontrol, invokeShortcut, mediavolumedown] }
      CapsLock-Shift-d: { launch: [qdbus, org.kde.kglobalaccel, /component/mediacontrol, invokeShortcut, mediavolumeup] }

      CapsLock-Alt-w: { launch: [qdbus, org.kde.kglobalaccel, /component/mediacontrol, invokeShortcut, previousmedia] }
      CapsLock-Alt-e: { launch: [qdbus, org.kde.kglobalaccel, /component/mediacontrol, invokeShortcut, nextmedia] }

      CapsLock-Shift-w: { launch: [fish, -c, 'set_mic_volume -5% ; widget_update_mic_volume'] }
      CapsLock-Shift-e: { launch: [fish, -c, 'set_mic_volume +5% ; widget_update_mic_volume'] }

      CapsLock-Alt-r: { launch: [fish, -c, 'toggle_mic_mute ; widget_update_mic_muteness'] }
      CapsLock-Shift-r: { launch: [fish, -c, 'toggle_mute ; widget_update_muteness'] }

      CapsLock-Alt-f: { launch: [qdbus, org.kde.kglobalaccel, /component/mediacontrol, invokeShortcut, playpausemedia] }

      CapsLock-Alt-LeftBrace: { launch: [qdbus, org.kde.kglobalaccel, /component/org_kde_powerdevil, invokeShortcut, "Decrease Screen Brightness"] }
      CapsLock-Alt-RightBrace: { launch: [qdbus, org.kde.kglobalaccel, /component/org_kde_powerdevil, invokeShortcut, "Increase Screen Brightness"] }
      CapsLock-LeftBrace: { launch: [qdbus, org.kde.kglobalaccel, /component/kwin, invokeShortcut, "Decrease Opacity"] }
      CapsLock-RightBrace: { launch: [qdbus, org.kde.kglobalaccel, /component/kwin, invokeShortcut, "Increase Opacity"] }

  - remap:
      CapsLock-t: tab
      CapsLock-Backspace: delete
      CapsLock-r: delete

      CapsLock-h: left
      CapsLock-j: down
      CapsLock-k: up
      CapsLock-l: right
      CapsLock-i: home
      CapsLock-o: end
      CapsLock-u: pageup
      CapsLock-p: pagedown

      CapsLock-s: ctrl-c
      CapsLock-w: ctrl-x
      CapsLock-d: ctrl-v
      CapsLock-Ctrl-d: ctrl-shift-v
      CapsLock-f: ctrl-a